{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "properties": {
    "affinity": {
      "additionalProperties": false,
      "description": "# Affinity rules for pod assignment",
      "properties": {
        "nodeAffinity": {
          "additionalProperties": false,
          "description": "Node affinity",
          "properties": {
            "requiredDuringSchedulingIgnoredDuringExecution": {
              "additionalProperties": false,
              "description": "Required node affinity",
              "properties": {
                "nodeSelectorTerms": {
                  "description": "Node selector terms",
                  "items": {
                    "anyOf": [
                      {
                        "additionalProperties": false,
                        "properties": {
                          "matchExpressions": {
                            "description": "Match expressions for node selection",
                            "items": {
                              "anyOf": [
                                {
                                  "additionalProperties": false,
                                  "properties": {
                                    "key": {
                                      "default": "kubernetes.io/arch",
                                      "description": "Label key",
                                      "title": "key",
                                      "type": "string"
                                    },
                                    "operator": {
                                      "default": "In",
                                      "description": "Match operator",
                                      "enum": [
                                        "In",
                                        "NotIn",
                                        "Exists",
                                        "DoesNotExist",
                                        "Gt",
                                        "Lt"
                                      ],
                                      "required": [],
                                      "title": "operator"
                                    },
                                    "values": {
                                      "description": "Values to match",
                                      "items": {
                                        "anyOf": [
                                          {
                                            "type": "string"
                                          },
                                          {
                                            "type": "string"
                                          }
                                        ],
                                        "required": []
                                      },
                                      "title": "values",
                                      "type": "array"
                                    }
                                  },
                                  "required": [],
                                  "type": "object"
                                }
                              ],
                              "required": []
                            },
                            "title": "matchExpressions",
                            "type": "array"
                          }
                        },
                        "required": [],
                        "type": "object"
                      }
                    ],
                    "required": []
                  },
                  "title": "nodeSelectorTerms",
                  "type": "array"
                }
              },
              "required": [],
              "title": "requiredDuringSchedulingIgnoredDuringExecution",
              "type": "object"
            }
          },
          "required": [],
          "title": "nodeAffinity",
          "type": "object"
        }
      },
      "required": [],
      "title": "affinity",
      "type": "object"
    },
    "apiVersion": {
      "default": "example.com/v1alpha1",
      "title": "apiVersion",
      "type": "string"
    },
    "appName": {
      "default": "my-application",
      "description": "Application name",
      "maxLength": 63,
      "minLength": 1,
      "pattern": "^[a-z0-9]([-a-z0-9]*[a-z0-9])?$",
      "title": "appName",
      "type": "string"
    },
    "autoscaling": {
      "additionalProperties": false,
      "description": "# Autoscaling configuration",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Enable horizontal pod autoscaling",
          "title": "enabled",
          "type": "boolean"
        },
        "maxReplicas": {
          "default": 10,
          "description": "Maximum number of replicas",
          "minimum": 1,
          "title": "maxReplicas",
          "type": "integer"
        },
        "minReplicas": {
          "default": 2,
          "description": "Minimum number of replicas",
          "minimum": 1,
          "title": "minReplicas",
          "type": "integer"
        },
        "targetCPUUtilizationPercentage": {
          "default": 80,
          "description": "Target CPU utilization percentage",
          "maximum": 100,
          "minimum": 1,
          "title": "targetCPUUtilizationPercentage",
          "type": "integer"
        },
        "targetMemoryUtilizationPercentage": {
          "default": 80,
          "description": "Target memory utilization percentage",
          "maximum": 100,
          "minimum": 1,
          "title": "targetMemoryUtilizationPercentage",
          "type": "integer"
        }
      },
      "required": [],
      "title": "autoscaling",
      "type": "object"
    },
    "cache": {
      "additionalProperties": false,
      "description": "# Cache/Redis configuration example",
      "properties": {
        "database": {
          "default": 0,
          "description": "Redis database number",
          "maximum": 15,
          "minimum": 0,
          "title": "database",
          "type": "integer"
        },
        "enabled": {
          "default": true,
          "description": "Enable Redis cache",
          "title": "enabled",
          "type": "boolean"
        },
        "host": {
          "default": "redis.default.svc.cluster.local",
          "description": "Redis host",
          "minLength": 1,
          "title": "host",
          "type": "string"
        },
        "port": {
          "default": 6379,
          "description": "Redis port",
          "maximum": 65535,
          "minimum": 1,
          "title": "port",
          "type": "integer"
        },
        "ttl": {
          "default": 3600,
          "description": "Cache TTL in seconds",
          "minimum": 0,
          "title": "ttl",
          "type": "integer"
        }
      },
      "required": [],
      "title": "cache",
      "type": "object"
    },
    "database": {
      "additionalProperties": false,
      "description": "# Database configuration example",
      "properties": {
        "host": {
          "default": "postgres.default.svc.cluster.local",
          "description": "Database host",
          "minLength": 1,
          "title": "host",
          "type": "string"
        },
        "name": {
          "default": "myapp",
          "description": "Database name",
          "minLength": 1,
          "title": "name",
          "type": "string"
        },
        "poolSize": {
          "default": 20,
          "description": "Connection pool size",
          "maximum": 1000,
          "minimum": 1,
          "title": "poolSize",
          "type": "integer"
        },
        "port": {
          "default": 5432,
          "description": "Database port",
          "maximum": 65535,
          "minimum": 1,
          "title": "port",
          "type": "integer"
        },
        "sslMode": {
          "default": "require",
          "description": "SSL mode for database connection",
          "enum": [
            "disable",
            "allow",
            "prefer",
            "require",
            "verify-ca",
            "verify-full"
          ],
          "required": [],
          "title": "sslMode"
        }
      },
      "required": [],
      "title": "database",
      "type": "object"
    },
    "debug": {
      "default": false,
      "description": "Enable debug mode for verbose logging",
      "title": "debug",
      "type": "boolean"
    },
    "env": {
      "description": "# Environment variables",
      "items": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "name": {
                "default": "LOG_LEVEL",
                "description": "Variable name",
                "minLength": 1,
                "title": "name",
                "type": "string"
              },
              "value": {
                "default": "info",
                "description": "Variable value",
                "title": "value",
                "type": "string"
              }
            },
            "required": [],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "name": {
                "default": "DATABASE_URL",
                "description": "Variable name",
                "minLength": 1,
                "title": "name",
                "type": "string"
              },
              "value": {
                "default": "postgresql://db:5432/myapp",
                "description": "Variable value",
                "title": "value",
                "type": "string"
              }
            },
            "required": [],
            "type": "object"
          }
        ],
        "required": []
      },
      "title": "env",
      "type": "array"
    },
    "envFrom": {
      "description": "# Environment variables from ConfigMaps/Secrets",
      "items": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "configMapRef": {
                "additionalProperties": false,
                "description": "ConfigMap reference",
                "properties": {
                  "name": {
                    "default": "app-config",
                    "description": "ConfigMap name",
                    "title": "name",
                    "type": "string"
                  }
                },
                "required": [],
                "title": "configMapRef",
                "type": "object"
              }
            },
            "required": [],
            "type": "object"
          },
          {
            "additionalProperties": false,
            "properties": {
              "secretRef": {
                "additionalProperties": false,
                "description": "Secret reference",
                "properties": {
                  "name": {
                    "default": "app-secrets",
                    "description": "Secret name",
                    "title": "name",
                    "type": "string"
                  }
                },
                "required": [],
                "title": "secretRef",
                "type": "object"
              }
            },
            "required": [],
            "type": "object"
          }
        ],
        "required": []
      },
      "title": "envFrom",
      "type": "array"
    },
    "image": {
      "additionalProperties": false,
      "description": "# Image configuration",
      "properties": {
        "pullPolicy": {
          "default": "IfNotPresent",
          "description": "Image pull policy",
          "enum": [
            "Always",
            "Never",
            "IfNotPresent"
          ],
          "required": [],
          "title": "pullPolicy"
        },
        "repository": {
          "default": "nginx",
          "description": "Container image repository",
          "title": "repository",
          "type": "string"
        },
        "tag": {
          "default": "1.25.0",
          "description": "Container image tag (immutable tags are recommended)",
          "pattern": "^[a-zA-Z0-9._-]+$",
          "title": "tag",
          "type": "string"
        }
      },
      "required": [],
      "title": "image",
      "type": "object"
    },
    "ingress": {
      "additionalProperties": false,
      "description": "# Ingress configuration",
      "properties": {
        "annotations": {
          "additionalProperties": true,
          "description": "Ingress annotations",
          "properties": {
            "cert-manager.io/cluster-issuer": {
              "default": "letsencrypt-prod",
              "title": "cert-manager.io/cluster-issuer",
              "type": "string"
            }
          },
          "required": [
            "cert-manager.io/cluster-issuer"
          ],
          "title": "annotations",
          "type": "object"
        },
        "className": {
          "default": "nginx",
          "description": "Ingress class name (e.g., nginx, traefik)",
          "title": "className",
          "type": "string"
        },
        "enabled": {
          "default": true,
          "description": "Enable ingress resource",
          "title": "enabled",
          "type": "boolean"
        },
        "hosts": {
          "description": "Ingress hosts configuration",
          "items": {
            "anyOf": [
              {
                "additionalProperties": false,
                "properties": {
                  "host": {
                    "default": "example.com",
                    "description": "Hostname",
                    "title": "host",
                    "type": "string"
                  },
                  "paths": {
                    "description": "Paths for this host",
                    "items": {
                      "anyOf": [
                        {
                          "additionalProperties": false,
                          "properties": {
                            "path": {
                              "default": "/",
                              "description": "Path string",
                              "title": "path",
                              "type": "string"
                            },
                            "pathType": {
                              "default": "Prefix",
                              "description": "Path type (Prefix, Exact, or ImplementationSpecific)",
                              "enum": [
                                "Prefix",
                                "Exact",
                                "ImplementationSpecific"
                              ],
                              "required": [],
                              "title": "pathType"
                            }
                          },
                          "required": [],
                          "type": "object"
                        }
                      ],
                      "required": []
                    },
                    "title": "paths",
                    "type": "array"
                  }
                },
                "required": [],
                "type": "object"
              }
            ],
            "required": []
          },
          "title": "hosts",
          "type": "array"
        },
        "tls": {
          "description": "TLS configuration for ingress",
          "items": {
            "anyOf": [
              {
                "additionalProperties": false,
                "properties": {
                  "hosts": {
                    "description": "Hosts covered by this certificate",
                    "items": {
                      "anyOf": [
                        {
                          "type": "string"
                        }
                      ],
                      "required": []
                    },
                    "title": "hosts",
                    "type": "array"
                  },
                  "secretName": {
                    "default": "example-tls",
                    "description": "Secret name containing TLS certificate",
                    "title": "secretName",
                    "type": "string"
                  }
                },
                "required": [],
                "type": "object"
              }
            ],
            "required": []
          },
          "title": "tls",
          "type": "array"
        }
      },
      "required": [],
      "title": "ingress",
      "type": "object"
    },
    "kind": {
      "default": "MyApp",
      "title": "kind",
      "type": "string"
    },
    "livenessProbe": {
      "additionalProperties": false,
      "description": "# Liveness probe configuration",
      "properties": {
        "failureThreshold": {
          "default": 3,
          "description": "Failure threshold for liveness probe",
          "minimum": 1,
          "title": "failureThreshold",
          "type": "integer"
        },
        "httpGet": {
          "additionalProperties": false,
          "description": "HTTP GET liveness probe",
          "properties": {
            "path": {
              "default": "/healthz",
              "description": "Path to probe",
              "title": "path",
              "type": "string"
            },
            "port": {
              "default": 8080,
              "description": "Port to probe",
              "maximum": 65535,
              "minimum": 1,
              "title": "port",
              "type": "integer"
            }
          },
          "required": [],
          "title": "httpGet",
          "type": "object"
        },
        "initialDelaySeconds": {
          "default": 30,
          "description": "Initial delay before liveness probe",
          "minimum": 0,
          "title": "initialDelaySeconds",
          "type": "integer"
        },
        "periodSeconds": {
          "default": 10,
          "description": "Period between liveness probes",
          "minimum": 1,
          "title": "periodSeconds",
          "type": "integer"
        },
        "successThreshold": {
          "default": 1,
          "description": "Success threshold for liveness probe",
          "minimum": 1,
          "title": "successThreshold",
          "type": "integer"
        },
        "timeoutSeconds": {
          "default": 5,
          "description": "Timeout for liveness probe",
          "minimum": 1,
          "title": "timeoutSeconds",
          "type": "integer"
        }
      },
      "required": [],
      "title": "livenessProbe",
      "type": "object"
    },
    "monitoring": {
      "additionalProperties": false,
      "description": "# Monitoring configuration",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Enable Prometheus monitoring",
          "title": "enabled",
          "type": "boolean"
        },
        "serviceMonitor": {
          "additionalProperties": false,
          "description": "ServiceMonitor configuration",
          "properties": {
            "enabled": {
              "default": true,
              "description": "Enable ServiceMonitor resource",
              "title": "enabled",
              "type": "boolean"
            },
            "interval": {
              "default": "30s",
              "description": "ServiceMonitor interval",
              "title": "interval",
              "type": "string"
            },
            "labels": {
              "additionalProperties": true,
              "description": "ServiceMonitor labels",
              "properties": {
                "prometheus": {
                  "default": "kube-prometheus",
                  "title": "prometheus",
                  "type": "string"
                }
              },
              "required": [
                "prometheus"
              ],
              "title": "labels",
              "type": "object"
            }
          },
          "required": [],
          "title": "serviceMonitor",
          "type": "object"
        }
      },
      "required": [],
      "title": "monitoring",
      "type": "object"
    },
    "nodeSelector": {
      "additionalProperties": true,
      "description": "# Node selector for pod assignment",
      "properties": {
        "kubernetes.io/arch": {
          "default": "amd64",
          "title": "kubernetes.io/arch",
          "type": "string"
        },
        "node-role": {
          "default": "application",
          "title": "node-role",
          "type": "string"
        }
      },
      "required": [
        "kubernetes.io/arch",
        "node-role"
      ],
      "title": "nodeSelector",
      "type": "object"
    },
    "podAnnotations": {
      "additionalProperties": true,
      "description": "# Pod annotations",
      "properties": {
        "prometheus.io/path": {
          "default": "/metrics",
          "title": "prometheus.io/path",
          "type": "string"
        },
        "prometheus.io/port": {
          "default": "8080",
          "title": "prometheus.io/port",
          "type": "string"
        },
        "prometheus.io/scrape": {
          "default": "true",
          "title": "prometheus.io/scrape",
          "type": "string"
        }
      },
      "required": [
        "prometheus.io/scrape",
        "prometheus.io/port",
        "prometheus.io/path"
      ],
      "title": "podAnnotations",
      "type": "object"
    },
    "podLabels": {
      "additionalProperties": true,
      "description": "# Pod labels",
      "properties": {
        "app": {
          "default": "my-application",
          "title": "app",
          "type": "string"
        },
        "version": {
          "default": "v1",
          "title": "version",
          "type": "string"
        }
      },
      "required": [
        "app",
        "version"
      ],
      "title": "podLabels",
      "type": "object"
    },
    "readinessProbe": {
      "additionalProperties": false,
      "description": "# Readiness probe configuration",
      "properties": {
        "failureThreshold": {
          "default": 3,
          "description": "Failure threshold for readiness probe",
          "minimum": 1,
          "title": "failureThreshold",
          "type": "integer"
        },
        "httpGet": {
          "additionalProperties": false,
          "description": "HTTP GET readiness probe",
          "properties": {
            "path": {
              "default": "/ready",
              "description": "Path to probe",
              "title": "path",
              "type": "string"
            },
            "port": {
              "default": 8080,
              "description": "Port to probe",
              "maximum": 65535,
              "minimum": 1,
              "title": "port",
              "type": "integer"
            }
          },
          "required": [],
          "title": "httpGet",
          "type": "object"
        },
        "initialDelaySeconds": {
          "default": 10,
          "description": "Initial delay before readiness probe",
          "minimum": 0,
          "title": "initialDelaySeconds",
          "type": "integer"
        },
        "periodSeconds": {
          "default": 5,
          "description": "Period between readiness probes",
          "minimum": 1,
          "title": "periodSeconds",
          "type": "integer"
        },
        "successThreshold": {
          "default": 1,
          "description": "Success threshold for readiness probe",
          "minimum": 1,
          "title": "successThreshold",
          "type": "integer"
        },
        "timeoutSeconds": {
          "default": 3,
          "description": "Timeout for readiness probe",
          "minimum": 1,
          "title": "timeoutSeconds",
          "type": "integer"
        }
      },
      "required": [],
      "title": "readinessProbe",
      "type": "object"
    },
    "replicas": {
      "default": 3,
      "description": "Number of replicas to deploy",
      "maximum": 100,
      "minimum": 1,
      "title": "replicas",
      "type": "integer"
    },
    "resources": {
      "additionalProperties": false,
      "description": "# Resource limits and requests",
      "properties": {
        "limits": {
          "additionalProperties": false,
          "description": "Resource limits",
          "properties": {
            "cpu": {
              "default": "500m",
              "description": "CPU limit",
              "title": "cpu",
              "type": "string"
            },
            "memory": {
              "default": "512Mi",
              "description": "Memory limit",
              "title": "memory",
              "type": "string"
            }
          },
          "required": [],
          "title": "limits",
          "type": "object"
        },
        "requests": {
          "additionalProperties": false,
          "description": "Resource requests",
          "properties": {
            "cpu": {
              "default": "100m",
              "description": "CPU request",
              "title": "cpu",
              "type": "string"
            },
            "memory": {
              "default": "128Mi",
              "description": "Memory request",
              "title": "memory",
              "type": "string"
            }
          },
          "required": [],
          "title": "requests",
          "type": "object"
        }
      },
      "required": [],
      "title": "resources",
      "type": "object"
    },
    "securityContext": {
      "additionalProperties": false,
      "description": "# Security context",
      "properties": {
        "capabilities": {
          "additionalProperties": false,
          "description": "Drop all capabilities and add only required ones",
          "properties": {
            "add": {
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  }
                ],
                "required": []
              },
              "title": "add",
              "type": "array"
            },
            "drop": {
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  }
                ],
                "required": []
              },
              "title": "drop",
              "type": "array"
            }
          },
          "required": [],
          "title": "capabilities",
          "type": "object"
        },
        "fsGroup": {
          "default": 1000,
          "description": "FSGroup for volume ownership",
          "minimum": 1,
          "title": "fsGroup",
          "type": "integer"
        },
        "runAsGroup": {
          "default": 1000,
          "description": "Group ID to run as",
          "minimum": 1,
          "title": "runAsGroup",
          "type": "integer"
        },
        "runAsNonRoot": {
          "default": true,
          "description": "Run as non-root user",
          "title": "runAsNonRoot",
          "type": "boolean"
        },
        "runAsUser": {
          "default": 1000,
          "description": "User ID to run as",
          "minimum": 1,
          "title": "runAsUser",
          "type": "integer"
        }
      },
      "required": [],
      "title": "securityContext",
      "type": "object"
    },
    "service": {
      "additionalProperties": false,
      "description": "# Service configuration",
      "properties": {
        "annotations": {
          "additionalProperties": true,
          "description": "Service annotations (e.g., for cloud load balancers)",
          "properties": {
            "service.beta.kubernetes.io/aws-load-balancer-type": {
              "default": "nlb",
              "title": "service.beta.kubernetes.io/aws-load-balancer-type",
              "type": "string"
            }
          },
          "required": [
            "service.beta.kubernetes.io/aws-load-balancer-type"
          ],
          "title": "annotations",
          "type": "object"
        },
        "labels": {
          "additionalProperties": true,
          "description": "Service labels",
          "properties": {
            "monitoring": {
              "default": "enabled",
              "title": "monitoring",
              "type": "string"
            }
          },
          "required": [
            "monitoring"
          ],
          "title": "labels",
          "type": "object"
        },
        "port": {
          "default": 80,
          "description": "Service port",
          "maximum": 65535,
          "minimum": 1,
          "title": "port",
          "type": "integer"
        },
        "type": {
          "default": "ClusterIP",
          "description": "Kubernetes service type",
          "enum": [
            "ClusterIP",
            "NodePort",
            "LoadBalancer",
            "ExternalName"
          ],
          "required": [],
          "title": "type"
        }
      },
      "required": [],
      "title": "service",
      "type": "object"
    },
    "serviceAccount": {
      "additionalProperties": false,
      "description": "# ServiceAccount configuration",
      "properties": {
        "annotations": {
          "additionalProperties": true,
          "description": "Service account annotations",
          "properties": {
            "eks.amazonaws.com/role-arn": {
              "default": "arn:aws:iam::123456789012:role/my-app-role",
              "title": "eks.amazonaws.com/role-arn",
              "type": "string"
            }
          },
          "required": [
            "eks.amazonaws.com/role-arn"
          ],
          "title": "annotations",
          "type": "object"
        },
        "create": {
          "default": true,
          "description": "Create a service account",
          "title": "create",
          "type": "boolean"
        },
        "name": {
          "default": "",
          "description": "Service account name (leave empty to generate)",
          "title": "name",
          "type": "string"
        }
      },
      "required": [],
      "title": "serviceAccount",
      "type": "object"
    },
    "tolerations": {
      "description": "# Tolerations for pod assignment",
      "items": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "effect": {
                "default": "NoExecute",
                "description": "Toleration effect",
                "title": "effect",
                "type": "string"
              },
              "key": {
                "default": "node.kubernetes.io/not-ready",
                "description": "Toleration key",
                "title": "key",
                "type": "string"
              },
              "operator": {
                "default": "Exists",
                "description": "Toleration operator",
                "title": "operator",
                "type": "string"
              },
              "tolerationSeconds": {
                "default": 300,
                "description": "Toleration duration in seconds",
                "minimum": 0,
                "title": "tolerationSeconds",
                "type": "integer"
              }
            },
            "required": [
              "operator",
              "effect"
            ],
            "type": "object"
          }
        ],
        "required": []
      },
      "title": "tolerations",
      "type": "array"
    },
    "volumeMounts": {
      "description": "# Volume mounts",
      "items": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "mountPath": {
                "default": "/etc/config",
                "description": "Mount path in container",
                "title": "mountPath",
                "type": "string"
              },
              "name": {
                "default": "config",
                "description": "Mount name",
                "title": "name",
                "type": "string"
              },
              "readOnly": {
                "default": true,
                "description": "Mount as read-only",
                "title": "readOnly",
                "type": "boolean"
              }
            },
            "required": [],
            "type": "object"
          }
        ],
        "required": []
      },
      "title": "volumeMounts",
      "type": "array"
    },
    "volumes": {
      "description": "# Volumes",
      "items": {
        "anyOf": [
          {
            "additionalProperties": false,
            "properties": {
              "configMap": {
                "additionalProperties": false,
                "description": "ConfigMap volume source",
                "properties": {
                  "name": {
                    "default": "app-config",
                    "description": "ConfigMap name",
                    "title": "name",
                    "type": "string"
                  }
                },
                "required": [],
                "title": "configMap",
                "type": "object"
              },
              "name": {
                "default": "config",
                "description": "Volume name",
                "title": "name",
                "type": "string"
              }
            },
            "required": [],
            "type": "object"
          }
        ],
        "required": []
      },
      "title": "volumes",
      "type": "array"
    }
  },
  "required": [],
  "type": "object"
}